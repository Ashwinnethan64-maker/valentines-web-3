<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Eternal Hearts Pro | A Love Story</title>
    <meta name="description" content="Create a beautiful, interactive Valentine's page.">

    <!-- Preload Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Great+Vibes&family=Sacramento&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">

    <!-- Favicon (Data URI for speed) -->
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>❤️</text></svg>">
</head>

<body>
    <!-- Background Canvas -->
    <canvas id="bg-canvas"></canvas>

    <!-- Overlay & UI -->
    <div id="app">
        <!-- Navigation/Header (Optional, mainly for context) -->
        <header class="app-header">
            <h1 class="logo">Eternal Hearts</h1>
            <button id="music-toggle" aria-label="Toggle Music">
                <span class="icon">♪</span>
            </button>
        </header>

        <!-- Views Container -->
        <main id="view-container">
            <!-- Home View -->
            <section id="view-home" class="view active">
                <div class="hero-content">
                    <div class="heart-pulse-container" id="hero-heart">
                        <!-- Gooey Filter -->
                        <svg style="position: absolute; width:0; height:0;">
                            <filter id="goo">
                                <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
                                <feColorMatrix in="blur" mode="matrix"
                                    values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9" result="goo" />
                                <feComposite in="SourceGraphic" in2="goo" operator="atop" />
                            </filter>
                        </svg>

                        <!-- Fusion Animation Elements -->
                        <div class="fusion-container">
                            <div class="fuse-circle c1"></div>
                            <div class="fuse-circle c2"></div>
                            <svg class="heart-svg main-heart" viewBox="0 0 100 100">
                                <path
                                    d="M50 88.9L16.7 55.6C7.2 46.1 7.2 30.9 16.7 21.4s24.7-9.5 33.3 0C58.6 11.9 74.1 11.9 83.3 21.4s9.5 24.7 0 33.3L50 88.9z" />
                            </svg>
                        </div>

                        <h2 class="title-text">For My Valentine</h2>
                    </div>
                    <p class="subtitle">Create a memory that lasts forever.</p>
                    <a href="#/customize" class="btn-primary ripple">Start Creating</a>
                </div>
            </section>

            <!-- Customize View -->
            <section id="view-customize" class="view">
                <h2>Customize Your Love</h2>

                <div class="customizer-grid">
                    <div class="card glass-card">
                        <h3>1. Couple Photo</h3>
                        <div class="drop-zone" id="photo-drop-zone">
                            <p>Drag & Drop or Click to Upload</p>
                            <input type="file" id="photo-input" accept="image/*" hidden>
                            <img id="photo-preview" src="" alt="Preview" class="hidden">
                        </div>
                    </div>

                    <div class="card glass-card">
                        <h3>2. Your Message</h3>
                        <textarea id="message-input" placeholder="Write something from your heart..."
                            rows="4"></textarea>
                        <div class="controls">
                            <label>Font: <select id="font-select">
                                    <option value="'Great Vibes', cursive">Great Vibes</option>
                                    <option value="'Sacramento', cursive">Sacramento</option>
                                    <option value="'Cinzel', serif">Cinzel</option>
                                </select></label>
                        </div>
                    </div>

                    <div class="card glass-card">
                        <h3>3. Names</h3>
                        <input type="text" id="name1-input" placeholder="Your Name">
                        <span class="divider">&</span>
                        <input type="text" id="name2-input" placeholder="Their Name">
                    </div>
                </div>

                <div class="actions">
                    <a href="#/preview" class="btn-secondary">Preview</a>
                    <a href="#/share" class="btn-primary ripple">Finish & Share</a>
                </div>
            </section>

            <!-- Preview View -->
            <section id="view-preview" class="view">
                <!-- Content injected dynamically -->
                <div id="preview-content"></div>
                <div class="preview-controls">
                    <a href="#/customize" class="btn-small">Edit</a>
                    <a href="#/share" class="btn-primary">Share This</a>
                </div>
            </section>

            <!-- Share View -->
            <section id="view-share" class="view">
                <div class="card glass-card share-card">
                    <h2>Share The Love</h2>
                    <div id="qrcode-container"></div>
                    <p class="share-link-display" id="share-link">Generating...</p>

                    <div class="share-buttons">
                        <button id="btn-copy" class="btn-secondary">Copy Link</button>
                        <button id="btn-wa" class="btn-secondary">WhatsApp</button>
                    </div>

                    <a href="#/" class="btn-text">Create New</a>
                </div>
            </section>
        </main>
    </div>

    <!-- Audio Element -->
    <audio id="bg-music" loop>
        <!-- Placeholder - User would ideally provide a local file or URL -->
        <!-- <source src="music.mp3" type="audio/mp3"> -->
    </audio>

    <!-- Scripts -->
    <!-- QRCode Lib (Inline minified or small external) - Using a small CDN for now as requested for "no libs >10KB" but valid qr gen is complex. 
         I will use a very small text-based generation or placeholder if strictly offline, 
         but for a "Pro" site a CDN link to qrcode.js is standard fallback or I can inline a tiny one.
         Let's stick to vanilla core first. I will add a placeholder for QR now. -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"
        integrity="sha512-CNgIRecGo7nphbeZ04Sc13ka07paqdeTu0WR1IM4kNcpmBAUSHSQX0FslNhTDadL4O5SAGapGt4FodqL8My0mA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="module" src="script.js"></script>
</body>

</html>