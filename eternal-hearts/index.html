<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eternal Hearts - Will You Be My Forever?</title>
    <meta name="description" content="An ultra-romantic Valentine's proposal experience.">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Poppins:wght@300;400;600&display=swap"
        rel="stylesheet">

    <!-- Tailwind CSS (CDN for speed/portability as requested) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'crimson-dark': '#4A0000',
                        'crimson-light': '#DC143C',
                        'gold-glow': '#FFD700',
                    },
                    fontFamily: {
                        'title': ['"Playfair Display"', 'serif'],
                        'script': ['"Dancing Script"', 'cursive'],
                        'body': ['"Poppins"', 'sans-serif'],
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body
    class="bg-gradient-to-b from-crimson-dark to-crimson-light min-h-screen text-white overflow-x-hidden font-body selection:bg-pink-500 selection:text-white">

    <!-- Audio Element -->
    <audio id="bg-music" loop>
        <source src="https://assets.mixkit.co/music/preview/mixkit-romantic-moment-116.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <button id="audio-toggle"
        class="fixed top-4 right-4 z-50 bg-white/10 backdrop-blur-md p-3 rounded-full border border-white/20 hover:bg-white/20 transition-all duration-300 group">
        <i class="fas fa-volume-mute text-xl group-hover:scale-110 transition-transform"></i>
    </button>

    <!-- Canvas Background -->
    <canvas id="bg-canvas" class="fixed top-0 left-0 w-full h-full pointer-events-none z-0"></canvas>

    <!-- Main App Container -->
    <main id="app" class="relative z-10 w-full min-h-screen flex flex-col items-center justify-center p-4">

        <!-- Hero Section -->
        <section id="hero" class="w-full max-w-4xl flex flex-col items-center text-center space-y-8 animate-fade-in">
            <div class="relative group cursor-pointer" id="hero-couple-container">
                <!-- Silhouette SVG (Placeholder) -->
                <div
                    class="w-64 h-64 md:w-80 md:h-80 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center border-4 border-white/30 shadow-[0_0_50px_rgba(220,20,60,0.5)] transition-all duration-700 hover:scale-105 hover:shadow-[0_0_80px_rgba(255,215,0,0.4)]">
                    <i class="fas fa-heart text-9xl text-pink-500/50 animate-pulse-slow"></i>
                    <img src="https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?auto=format&fit=crop&w=400&q=80"
                        alt="Couple Silhouette"
                        class="absolute w-full h-full object-cover rounded-full opacity-0 group-hover:opacity-80 transition-opacity duration-1000 mix-blend-overlay">
                </div>
            </div>

            <h1 class="font-title text-5xl md:text-7xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white via-pink-200 to-gold-glow drop-shadow-lg p-2 min-h-[1.2em]"
                id="typing-text">
                <!-- Text typed by JS -->
            </h1>

            <p class="font-script text-2xl md:text-4xl text-pink-200 opacity-90 animate-float delay-100">
                Create something unforgettable.
            </p>

            <button id="start-btn"
                class="mt-8 px-10 py-4 bg-gradient-to-r from-pink-600 to-red-600 rounded-full font-bold text-xl shadow-lg border-2 border-white/20 hover:scale-110 hover:shadow-2xl transition-all duration-300 group overflow-hidden relative">
                <span class="relative z-10">Make It Yours ‚ù§Ô∏è</span>
                <div
                    class="absolute inset-0 bg-white/30 translate-y-full group-hover:translate-y-0 transition-transform duration-300 rounded-full">
                </div>
            </button>
        </section>

        <!-- Customize Section -->
        <section id="customize" class="hidden w-full max-w-6xl animate-fade-in-up">
            <h2 class="font-title text-4xl text-center mb-8">Customize Your Love Story</h2>

            <div class="grid md:grid-cols-2 gap-12 items-start">
                <!-- Photo Upload & Preview -->
                <div class="glass-card p-8 rounded-3xl space-y-6">
                    <div class="relative w-full aspect-[4/5] border-4 border-dashed border-white/30 rounded-2xl flex flex-col items-center justify-center hover:bg-white/5 transition-colors cursor-pointer group overflow-hidden"
                        id="photo-dropzone">
                        <input type="file" id="photo-upload" accept="image/*"
                            class="absolute inset-0 opacity-0 cursor-pointer z-20">
                        <div id="upload-placeholder"
                            class="text-center space-y-2 pointer-events-none transition-opacity duration-300">
                            <i
                                class="fas fa-cloud-upload-alt text-5xl text-pink-300 group-hover:scale-110 transition-transform"></i>
                            <p>Drag & Drop your photo here</p>
                        </div>
                        <img id="photo-preview"
                            class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500 z-10"
                            alt="Preview">
                        <div class="absolute inset-0 pointer-events-none border-[20px] border-pink-500/20 z-30"
                            style="mask-image: radial-gradient(circle, transparent 60%, black 100%);"></div>
                    </div>
                    <div class="flex justify-center space-x-4">
                        <button id="rotate-left" class="p-2 bg-white/10 rounded-full hover:bg-white/20"><i
                                class="fas fa-undo"></i></button>
                        <button id="zoom-in" class="p-2 bg-white/10 rounded-full hover:bg-white/20"><i
                                class="fas fa-search-plus"></i></button>
                        <button id="rotate-right" class="p-2 bg-white/10 rounded-full hover:bg-white/20"><i
                                class="fas fa-redo"></i></button>
                    </div>
                </div>

                <!-- Text & Details -->
                <div class="space-y-8">
                    <div class="glass-card p-8 rounded-3xl space-y-6">
                        <div class="grid grid-cols-2 gap-4">
                            <div class="space-y-2">
                                <label class="text-pink-200 text-sm uppercase tracking-wide">Your Name</label>
                                <input type="text" id="name-1" placeholder="You"
                                    class="w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 focus:outline-none focus:border-pink-500 transition-colors placeholder-white/30">
                            </div>
                            <div class="space-y-2">
                                <label class="text-pink-200 text-sm uppercase tracking-wide">Partner's Name</label>
                                <input type="text" id="name-2" placeholder="Them"
                                    class="w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 focus:outline-none focus:border-pink-500 transition-colors placeholder-white/30">
                            </div>
                        </div>

                        <div class="space-y-2">
                            <label class="text-pink-200 text-sm uppercase tracking-wide">Love Note</label>
                            <textarea id="love-note" rows="5" placeholder="Write something from the heart..."
                                class="w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 focus:outline-none focus:border-pink-500 transition-colors font-script text-2xl placeholder-white/30 resize-none"></textarea>
                        </div>

                        <div class="space-y-2">
                            <label class="text-pink-200 text-sm uppercase tracking-wide">Font Style</label>
                            <div class="flex space-x-4">
                                <button
                                    class="font-btn active px-4 py-2 rounded-lg bg-pink-600/50 border border-pink-400"
                                    data-font="Dancing Script">Cursive</button>
                                <button
                                    class="font-btn px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10"
                                    data-font="Playfair Display">Elegant</button>
                                <button
                                    class="font-btn px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10"
                                    data-font="Poppins">Modern</button>
                            </div>
                        </div>
                    </div>

                    <button id="preview-btn"
                        class="w-full py-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-2xl font-bold text-xl shadow-xl hover:shadow-pink-500/30 hover:-translate-y-1 transition-all duration-300">
                        Preview Magic ‚ú®
                    </button>
                </div>
            </div>
        </section>

        <!-- Preview Section -->
        <section id="preview" class="hidden w-full h-screen absolute inset-0 bg-black/90 z-50 flex flex-col">
            <div class="absolute top-4 right-4 z-50 flex space-x-4">
                <button id="edit-btn"
                    class="px-6 py-2 bg-white/10 backdrop-blur-md rounded-full border border-white/20 hover:bg-white/20">
                    <i class="fas fa-edit mr-2"></i> Edit
                </button>
                <button id="share-step-btn"
                    class="px-6 py-2 bg-pink-600 rounded-full hover:bg-pink-500 shadow-lg animate-pulse">
                    <i class="fas fa-heart mr-2"></i> Share Gift
                </button>
            </div>

            <!-- Actual Preview Content (Iframe specific view or just rendered DOM) -->
            <!-- For this single page app, we'll mimic the "Page" view directly here -->
            <div id="preview-content"
                class="flex-1 flex flex-col items-center justify-center p-8 text-center space-y-8 relative overflow-hidden">
                <!-- Names Banner -->
                <div class="absolute top-20 w-full text-center">
                    <h2 id="preview-names"
                        class="font-title text-4xl md:text-6xl text-gold-glow drop-shadow-[0_2px_4px_rgba(0,0,0,0.5)]">
                        <!-- Generated Names -->
                    </h2>
                </div>

                <!-- Heart Frame Photo -->
                <div class="relative w-72 h-72 md:w-96 md:h-96">
                    <div class="absolute inset-0 border-8 border-gold-glow/30 rounded-full animate-spin-slow"
                        style="border-style: double;"></div>
                    <div class="absolute inset-4 rounded-full overflow-hidden border-4 border-white/50 shadow-2xl">
                        <img id="preview-photo" src="" class="w-full h-full object-cover">
                    </div>
                    <!-- Floating hearts around -->
                    <div class="absolute -top-4 -right-4 text-4xl animate-bounce">üíñ</div>
                    <div class="absolute -bottom-4 -left-4 text-4xl animate-bounce delay-700">‚ú®</div>
                </div>

                <!-- Message -->
                <div class="max-w-2xl bg-black/30 backdrop-blur-sm p-6 rounded-xl border border-white/10">
                    <p id="preview-message" class="font-script text-3xl md:text-4xl text-white leading-relaxed">
                        <!-- Generated Message -->
                    </p>
                </div>
            </div>

            <!-- Lock Overlay -->
            <div id="lock-overlay"
                class="hidden fixed inset-0 z-[60] bg-black/95 flex-col items-center justify-center space-y-8 animate-fade-in">
                <h2 class="font-title text-4xl text-white text-center">Unlock My Heart üíñ</h2>
                <p class="text-pink-200">Connect the dots to see the message...</p>
                <div class="relative w-80 h-80">
                    <canvas id="lock-canvas" class="w-full h-full cursor-crosshair touch-none"></canvas>
                </div>
            </div>
        </section>

        <!-- Share Section -->
        <section id="share" class="hidden w-full max-w-2xl animate-fade-in text-center space-y-8">
            <h2 class="font-title text-5xl mb-4">Your Gift is Ready! üéÅ</h2>
            <p class="text-xl text-pink-200">Share this magic link with your person.</p>

            <div class="glass-card p-10 rounded-3xl space-y-8 flex flex-col items-center">
                <!-- QR Code Placeholder -->
                <div id="qrcode" class="bg-white p-4 rounded-xl shadow-2xl"></div>

                <div class="w-full flex space-x-2">
                    <input id="share-link" type="text" readonly
                        class="flex-1 bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-sm text-gray-300 font-mono"
                        value="https://eternal-hearts.vercel.app/...">
                    <button id="copy-btn" class="px-6 bg-pink-600 rounded-lg hover:bg-pink-500 transition-colors">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>

                <div class="flex space-x-6">
                    <button class="share-btn text-green-400 hover:scale-110 transition-transform"><i
                            class="fab fa-whatsapp text-4xl"></i></button>
                    <button class="share-btn text-blue-400 hover:scale-110 transition-transform"><i
                            class="fab fa-twitter text-4xl"></i></button>
                    <button class="share-btn text-pink-400 hover:scale-110 transition-transform"><i
                            class="fas fa-envelope text-4xl"></i></button>
                </div>
            </div>

            <button id="restart-btn" class="text-white/60 hover:text-white underline">Create Another</button>
        </section>

    </main>

    <!-- Scripts -->
    <!-- QR Code Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="script.js"></script>
</body>

</html>